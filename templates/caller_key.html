<!DOCTYPE html>
<html data-theme="apptheme">

<head>
    {% include '_meta.html' %}
</head>

<body class="container mx-auto  bg-green-700 ">
    <div class="w-full h-full p-4">
        <div class="alert alert-info hidden">
            <p>Caller (เครื่องเรียกรับบริการ) <button onclick="setting_counter_service()" class="btn btn-xs btn-circle text-error"><i class="fa-solid fa-gear"></i></button></p>
            <i class="p-2 fa-solid fa-volume-high fa-2xl"> ช่องบริการ {{caller_id}}</i>
        </div>

        <div class="w-full mt-2 card">
            <div class="card-body">
                <div class="flex flex-wrap justify-center gap-4">
                    <div class="w-full">
                        <input class="input input-succecc rounded-lg w-full text-7xl h-full text-center" value="" placeholder="ทะเบียนรถ" id="number_input_number">
                    </div>
                    <p class="text-white">เพิ่มทะเบียนเข้าช่องรับบริการ</p>
                    <div class="w-full">
                        <button onclick="add_service_transaction()" class="w-full btn btn-success btn-lg h-full rounded-3xl text-6xl p-4 text-white">Stand by</button>
                    </div>
                </div>
                <div class="flex flex-wrap justify-center gap-4 border-4 border-primary rounded-lg p-4">
                    <p class="text-white">จัดการรับบริการ</p>
                    <div class="w-full">
                        <input class="input input-succecc rounded-lg w-full text-7xl h-full text-center" value="" placeholder="ทะเบียนรถ" id="number_input_number_call">
                    </div>
                    <div class="flex flex-wrap justify-center gap-2 p-2">
                        <button onclick="call_service_transaction()" class=" btn btn-info btn-lg h-24 w-64 rounded-2xl text-3xl p-2 text-white">เรียกรับบริการ<br>Come in</button>
                        <button onclick="update_transaction_success()" class="btn btn-success btn-lg h-24 w-64 rounded-2xl text-3xl p-2 text-white">รับบริการสำเร็จ<br>Check
                            Out</button>
                    </div>
                </div>
            </div>

        </div>
        <div class="flex flex-row justify-center">
            <img class="h-24 rounded-full mx-auto ring-2 ring-white mb-1" src="/static/image/grab_logo.jpg" />
        </div>
        <div class="flex flex-col p-2 gap-2 mt-4">
            <button type="button" class="text-lg btn btn-warning btn-outline" onclick="dialog_set_date_time_server.showModal()">ตั้งเวลา Server</button>
            <button type="button" class="text-lg btn btn-error btn-outline" onclick="dialog_clear_transaction.showModal()">Clear Q All</button>
        </div>

    </div>
    <footer class="fixed inset-x-0 bottom-0 items-center p-4 rounded-lg footer">
        <div class="flex justify-between w-full">
            <div class="flex">
                <p>Copyright © 2021 - All right reserved</p>
            </div>
            <div class="">
                <a>
                    <i class="fa-solid fa-arrows-rotate"></i>
                </a>
            </div>
        </div>

    </footer>
    {% include '_dialog.html' %}


    <dialog id="dialog_set_date_time_server" class="modal">
        <div class="modal-box">
            <form method="dialog">
                <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
            </form>
            <h3 class="text-lg font-bold">Set DateTime Server!</h3>
            <div class=" font-bold">date time "yyyy-mm-dd HH:MM:SS"</div>
            <input type="text" placeholder="2020-12-12 08:00:00" data-field="datetime" value="2024-12-12 12:00:00" class="input input-bordered w-full max-w-xs" />
            <div class="modal-action">
                <button class="btn btn-warning" onclick="set_date_time_server();">ตั้งเวลา</button>
                <form method="dialog">
                    <!-- if there is a button in form, it will close the modal -->
                    <button class="btn">Close</button>
                </form>
            </div>

        </div>
    </dialog>

    <dialog id="dialog_clear_transaction" class="modal">
        <div class="modal-box">
            <h3 class="text-lg font-bold">ยืนยันทำรายการเคลียร์คิวทั้งหมด</h3>
            <div class="modal-action">
                <button class="btn btn-warning" onclick="clear_transaction();">Clear Q all</button>
                <form method="dialog">
                    <!-- if there is a button in form, it will close the modal -->
                    <button class="btn">Close</button>
                </form>
            </div>

        </div>
    </dialog>
</body>
{% include '_script.html' %}
<script type="module" src="/static/js/call_key.js?t={{now}}"></script>

</html>